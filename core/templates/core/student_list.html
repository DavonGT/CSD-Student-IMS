
{% extends "core/base.html" %}

{% load static %}

{% block content %}

    <h1 style="color: #333; margin-bottom: 1em">Student List</h1>

    <button class="purple-button" onclick="window.location.href='{% url 'student_create' %}'">ADD</button>
    <form method="post" enctype="multipart/form-data" action="{% url 'upload_excel' %}">
        {% csrf_token %}
        <input type="file" name="excel_file" accept=".xlsx" required>
        <button type="submit">Upload Excel</button>
    </form>
    <table id="students" class="table">
        <thead>
            <tr>
	            <th data-title="Student ID">Student ID</th>
                <th data-title="Name">Name</th>
		        <th data-title="Gender">Gender</th>
                <th data-title="Status">Status</th>
                <th data-title="DOB">DOB</th>
                <th data-title="Year Level">Year Level</th>
		        <th data-title="Email">Email</th>
                <th data-title="Actions">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td data-title="Student ID">{{ student.student_id }}</td>
                <td data-title="Name">{{ student.name }}</td>
                <td data-title="Gender">{{ student.gender }}</td>
                <td data-title="Status">{{ student.status }}</td>
                <td data-title="DOB">{{ student.date_of_birth }}</td>
                <td data-title="Year Level">{{ student.year_level }}</td>
                <td data-title="Email">{{ student.email }}</td>
                <td data-title="Actions">
                    <div class="action-button-container">
                        <button class="edit-button" onclick="window.location.href='{% url 'student_update' student.pk %}'">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#F3F3F3"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"/></svg>
                        </button> 
                        <button class="delete-button" onclick="window.location.href='{% url 'student_delete' student.pk %}'">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#F3F3F3"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>
                        </button> 
                        <button class="others-button"onclick="window.location.href='{% url 'other_info' student.pk %}'">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#F3F3F3"><path d="M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"/></svg>
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function() {
            $('#students').DataTable();
        });
    </script>
{% endblock %}

